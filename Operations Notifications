<script>
document.addEventListener('DOMContentLoaded', function () {
  function triggerPopupWhenReady() {
		if (
			typeof elementorProFrontend !== 'undefined' && 
			elementorProFrontend.modules && 
			elementorProFrontend.modules.popup
		) {
			if (document.querySelector('.has-category-operations-notifications')) {
          elementorProFrontend.modules.popup.showPopup({ id: 12961 });		
			}
		} else {
			setTimeout(triggerPopupWhenReady, 100); 
		}
	}
	
	triggerPopupWhenReady(); 
}); 

</script>

_____________________
<script>
document.addEventListener('DOMContentLoaded', function () {
  const popupId = 12961;
  const categoryClass = 'has-category-operations-notifications';
  const wrapper = document.querySelector('.' + categoryClass);
  if (!wrapper) return;

  const latestPostDate = wrapper.getAttribute('data-latest-post');
  if (!latestPostDate) return;

  const lastSeenDate = localStorage.getItem('seen_operations_notification');

  if (latestPostDate !== lastSeenDate) {
    if (typeof elementorProFrontend !== 'undefined' && elementorProFrontend.modules.popup) {
      elementorProFrontend.modules.popup.showPopup({ id: popupId });

      document.addEventListener('click', function (e) {
        if (e.target.classList.contains('dismiss-popup-btn')) {
          localStorage.setItem('seen_operations_notification', latestPostDate);
          elementorProFrontend.modules.popup.closePopup({ id: popupId });
        }
      });
    }
  }
});
</script>
_____________________
<script>
document.addEventListener('DOMContentLoaded', function () {
  const wrapper = document.querySelector('.has-category-operations-notifications');
  console.log('Wrapper:', wrapper);

  if (wrapper) {
    const latest = wrapper.getAttribute('data-latest-post');
    console.log('Latest Post Date:', latest);
  } else {
    console.log('No wrapper found.');
  }
});
</script>
______________________
<script>
document.addEventListener('DOMContentLoaded', function () {
  setTimeout(function () {
    const wrapper = document.querySelector('.has-category-operations-notifications');
    console.log('Wrapper:', wrapper);

    if (wrapper) {
      const latest = wrapper.getAttribute('data-latest-post');
      console.log('Latest Post Date:', latest);

      if (typeof elementorProFrontend !== 'undefined' &&
          elementorProFrontend.modules &&
          elementorProFrontend.modules.popup) {
        
        const today = new Date();
        const postDate = new Date(latest);
        const timeDiff = today - postDate;
        const daysDiff = timeDiff / (1000 * 60 * 60 * 24);

        console.log('Days Difference:', daysDiff);

        if (daysDiff <= 5) {
          console.log('Triggering popup!');
          elementorProFrontend.modules.popup.showPopup({ id: 12961 });
        } else {
          console.log('Post is older than 5 days. No popup.');
        }

      } else {
        console.log('Elementor popup module not ready.');
      }

    } else {
      console.log('No wrapper found after timeout.');
    }

  }, 1500); 
});
</script>
